# โ ุงูฺฏู MeliPayamak ุชุงุฏ ุดุฏ!

## ๐ ุฎุจุฑ ุฎูุจ

ุงูฺฏู ุดูุง ุฏุฑ MeliPayamak ุชุงุฏ ุดุฏู ุงุณุช:
- **ฺฉุฏ ุงูฺฏู:** `395131`
- **ุนููุงู:** ุฒุณุชูู /https://www.softmiliac.com
- **ูุชู ุงูฺฏู:** "ุณูุงู ฺฉุฏ ุดูุง: {ฐ} ู ุจุงุดุฏ ูุฑู ุงูุฒุงุฑ ููููุฑ"
- **ูุถุนุช:** ุชุงุฏ ุดุฏู โ

---

## ๐ ูุฑุงุญู ุจุนุฏ

### 1๏ธโฃ ุจูโุฑูุฒุฑุณุงู ูุงู `.env`

ูุงู `.env` ุฎูุฏ ุฑุง ุจุงุฒ ฺฉูุฏ ู ุงู ุฎุท ุฑุง ุงุถุงูู ุง ุจูโุฑูุฒุฑุณุงู ฺฉูุฏ:

```env
MELIPAYAMAK_PATTERN_ID=395131
```

**ูุซุงู ฺฉุงูู ุชูุธูุงุช MeliPayamak ุฏุฑ `.env`:**

```env
# MeliPayamak Settings
MELIPAYAMAK_USERNAME=09155009664
MELIPAYAMAK_API_KEY=f2b89fd9-5633-4623-92c1-b3a896639f76
MELIPAYAMAK_SENDER=30008666009664
MELIPAYAMAK_PATTERN_ID=395131
```

---

### 2๏ธโฃ ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ ุณุฑูุฑ Django

ุจุนุฏ ุงุฒ ุจูโุฑูุฒุฑุณุงู `.env`ุ ุณุฑูุฑ Django ุฑุง ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ ฺฉูุฏ:

```bash
# ุฏุฑ ุชุฑููุงูุ ุณุฑูุฑ ุฑุง ูุชููู ฺฉูุฏ (Ctrl+C)
# ุณูพุณ ุฏูุจุงุฑู ุฑุงูโุงูุฏุงุฒ ฺฉูุฏ:
python manage.py runserver
```

---

### 3๏ธโฃ ุชุณุช ฺฉุฑุฏู

#### ุงูู) ุชุณุช ุงุฒ ูพูู React

1. ุจู ุจุฎุด **Notifications** ุฏุฑ ูพูู React ุจุฑูุฏ
2. ฺฉ ุดูุงุฑู ุชููู ูุงุฑุฏ ฺฉูุฏ (ูุซูุงู `09056761466`)
3. ฺฉ ูพุงู ุชุณุช ุจููุณุฏ
4. ุฑู **Send** ฺฉูฺฉ ฺฉูุฏ
5. ุจุฑุฑุณ ฺฉูุฏ ฺฉู SMS ุจุง ุงูฺฏู ุฌุฏุฏ ุงุฑุณุงู ุดูุฏ

#### ุจ) ุชุณุช ุงุฒ Swagger UI

1. ุจู ุขุฏุฑุณ `http://127.0.0.1:8000/api/docs/` ุจุฑูุฏ
2. ุจุฎุด **Notifications** โ `POST /api/v1/notifications/send` ุฑุง ูพุฏุง ฺฉูุฏ
3. ฺฉ ุฏุฑุฎูุงุณุช ุชุณุช ุงุฑุณุงู ฺฉูุฏ:

```json
{
  "phoneNumber": "09056761466",
  "message": "ุงู ฺฉ ูพุงู ุชุณุช ุงุณุช"
}
```

#### ุฌ) ุชุณุช ุงุฒ Endpoint ุณุงุฏู

ุงุฒ endpoint ุฌุฏุฏ `POST /api/v1/notifications/test-sms` ุงุณุชูุงุฏู ฺฉูุฏ:

```json
{
  "to": "09056761466",
  "text": "ุชุณุช ุงูฺฏู ุฌุฏุฏ"
}
```

---

## ๐ฑ ูุญูู ฺฉุงุฑ ุงูฺฏู

ุงูฺฏู ุดูุง (`395131`) ุจู ุงู ุตูุฑุช ฺฉุงุฑ ูโฺฉูุฏ:

- **ูุชู ุงูฺฏู:** "ุณูุงู ฺฉุฏ ุดูุง: {ฐ} ู ุจุงุดุฏ ูุฑู ุงูุฒุงุฑ ููููุฑ"
- **ูุชุบุฑ:** `{0}` (ููุท ฺฉ ูุชุบุฑ)
- **ุงุณุชูุงุฏู:**
  - ุจุฑุง **OTP:** ููุท ฺฉุฏ ุฑุง ุฏุฑ `{0}` ูุฑุงุฑ ูโุฏูุฏ
  - ุจุฑุง **ุงุนูุงูโูุง:** ฺฉู ูพุงู ุฑุง ุฏุฑ `{0}` ูุฑุงุฑ ูโุฏูุฏ

**ูุซุงู:**
- ุงฺฏุฑ `message = "123456"` ุจุงุดุฏ โ SMS: "ุณูุงู ฺฉุฏ ุดูุง: 123456 ู ุจุงุดุฏ ูุฑู ุงูุฒุงุฑ ููููุฑ"
- ุงฺฏุฑ `message = "ุณูุงุฑุด ุดูุง ุขูุงุฏู ุงุณุช"` ุจุงุดุฏ โ SMS: "ุณูุงู ฺฉุฏ ุดูุง: ุณูุงุฑุด ุดูุง ุขูุงุฏู ุงุณุช ู ุจุงุดุฏ ูุฑู ุงูุฒุงุฑ ููููุฑ"

---

## โ๏ธ ูฺฉุงุช ููู

1. **ุงูฺฏู ุชุงุฏ ุดุฏู ุงุณุช:** ุงูฺฏู ุดูุง ุฏุฑ MeliPayamak ุชุงุฏ ุดุฏู ู ุขูุงุฏู ุงุณุชูุงุฏู ุงุณุช.

2. **ุชูุธูุงุช `.env`:** ุญุชูุงู `MELIPAYAMAK_PATTERN_ID=395131` ุฑุง ุฏุฑ `.env` ุฎูุฏ ุงุถุงูู ฺฉูุฏ.

3. **ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ:** ุจุนุฏ ุงุฒ ุชุบุฑ `.env`ุ ุณุฑูุฑ Django ุฑุง ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ ฺฉูุฏ.

4. **ูุงฺฏโูุง:** ุฏุฑ ฺฉูุณูู Djangoุ ูุงฺฏโูุง ุงุฑุณุงู SMS ุฑุง ุจุฑุฑุณ ฺฉูุฏ:
   ```
   Sending SMS via universal pattern 395131 to 09056761466
   Message: ...
   ```

5. **ุชุณุช:** ูุจู ุงุฒ ุงุณุชูุงุฏู ุฏุฑ productionุ ุญุชูุงู ุจุง ฺูุฏ ุดูุงุฑู ูุฎุชูู ุชุณุช ฺฉูุฏ.

---

## ๐ ุนุจโุงุจ

ุงฺฏุฑ SMS ุงุฑุณุงู ูุดุฏ:

1. **ุจุฑุฑุณ `.env`:** ูุทูุฆู ุดูุฏ `MELIPAYAMAK_PATTERN_ID=395131` ุชูุธู ุดุฏู ุงุณุช.
2. **ุจุฑุฑุณ ูุงฺฏโูุง:** ุฏุฑ ฺฉูุณูู Djangoุ ุฎุทุงูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ.
3. **ุจุฑุฑุณ ูพูู MeliPayamak:** ุฏุฑ ูพูู MeliPayamakุ ูุงฺฏ ุงุฑุณุงูโูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ.
4. **ุจุฑุฑุณ ุงุนุชุจุงุฑ:** ูุทูุฆู ุดูุฏ ุญุณุงุจ MeliPayamak ุดูุง ุงุนุชุจุงุฑ ฺฉุงู ุฏุงุฑุฏ.

---

## โ ุฎูุงุตู

- โ ุงูฺฏู ุชุงุฏ ุดุฏ: `395131`
- โ ูุงู `sms_service.py` ุจุงุฒุณุงุฒ ุดุฏ
- โ ุชูุงู ุชูุงุจุน ููุฑุฏูุงุฒ ุงุถุงูู ุดุฏูุฏ
- โณ **ฺฉุงุฑ ุจุนุฏ:** ุจูโุฑูุฒุฑุณุงู `.env` ู ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ ุณุฑูุฑ

**ูููู ุจุงุดุฏ! ๐**

